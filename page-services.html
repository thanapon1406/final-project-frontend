<!DOCTYPE html>
<html lang="th">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£ - ‡∏´‡πâ‡∏ß‡∏¢‡∏ï‡∏∂‡∏á‡πÄ‡∏í‡πà‡∏≤</title>
    <!-- Bootstrap 5.1.3 CDN -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <!-- Font Awesome 5.10.0 -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css"
    />
    <!-- Itim Font -->
    <link
      href="https://fonts.googleapis.com/css2?family=Itim&display=swap"
      rel="stylesheet"
    />
    <!-- Custom CSS -->
    <link rel="stylesheet" href="css/style.css" />
  </head>
  <body>
    <!-- Skip to content link for accessibility -->
    <a href="#main-content" class="skip-to-content">‡∏Ç‡πâ‡∏≤‡∏°‡πÑ‡∏õ‡∏¢‡∏±‡∏á‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏´‡∏•‡∏±‡∏Å</a>

    <!-- Navigation will be loaded here -->
    <nav id="navigation"></nav>

    <!-- Carousel will be loaded here -->
    <div id="carousel-container"></div>

    <!-- News marquee will be loaded here -->
    <div id="news-marquee"></div>

    <!-- Main content -->
    <main id="main-content" class="container-fluid">
      <!-- Services content -->
      <div id="services-content"></div>
    </main>

    <!-- Footer will be loaded here -->
    <footer id="footer"></footer>

    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Embedded JavaScript - Services Page -->
    <script>
      // Services Page JavaScript - Embedded Version
      console.log("üöÄ Loading services page...");

      // Global error prevention
      window.safeGet = function (obj, path, defaultValue = null) {
        try {
          return (
            path.split(".").reduce((current, key) => current?.[key], obj) ??
            defaultValue
          );
        } catch {
          return defaultValue;
        }
      };

      // Generate placeholder SVG
      function generatePlaceholderSVG(text) {
        const svg = `
                <svg width="1200" height="500" xmlns="http://www.w3.org/2000/svg">
                    <rect width="100%" height="100%" fill="#4a90e2"/>
                    <text x="50%" y="50%" text-anchor="middle" dy=".3em" fill="white" font-family="Arial" font-size="48">
                        ${text}
                    </text>
                </svg>
            `;
        return (
          "data:image/svg+xml;base64," + btoa(unescape(encodeURIComponent(svg)))
        );
      }

      // Load navigation
      function loadNavigation() {
        console.log("üß≠ Loading navigation...");

        $.getJSON("data/navigation.json")
          .done(function (data) {
            console.log("‚úÖ Navigation data loaded");
            renderNavigation(data);
          })
          .fail(function (xhr, status, error) {
            console.warn("‚ö†Ô∏è Navigation load failed:", status, error);
            renderFallbackNavigation();
          });
      }

      function renderNavigation(data) {
        try {
          const brandName = safeGet(data, "brandName", "‡∏´‡πâ‡∏ß‡∏¢‡∏ï‡∏∂‡∏á‡πÄ‡∏í‡πà‡∏≤");
          const menuItems = safeGet(data, "menuItems", []);

          let menuHTML = "";
          if (Array.isArray(menuItems)) {
            menuHTML = menuItems
              .map((item) => {
                const isActive = item.id === "service";
                return `
                            <li class="nav-item">
                                <a class="nav-link ${
                                  isActive ? "active" : ""
                                }" href="${item.url || "#"}">
                                    ${item.title || "Menu"}
                                </a>
                            </li>
                        `;
              })
              .join("");
          }

          const navHTML = `
                    <nav class="navbar navbar-expand-lg navbar-dark" style="background: linear-gradient(135deg, #2c3e50, #34495e); box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                        <div class="container-fluid">
                            <a class="navbar-brand" href="index.html" style="font-weight: 600; color: white;">
                                <i class="fas fa-leaf"></i> ${brandName}
                            </a>
                            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                                <span class="navbar-toggler-icon"></span>
                            </button>
                            <div class="collapse navbar-collapse" id="navbarNav">
                                <ul class="navbar-nav ms-auto">
                                    ${menuHTML}
                                </ul>
                            </div>
                        </div>
                    </nav>
                    <style>
                        .navbar-nav .nav-link {
                            color: rgba(255, 255, 255, 0.9) !important;
                            font-weight: 500;
                            padding: 0.5rem 1rem !important;
                            transition: all 0.3s ease;
                        }
                        .navbar-nav .nav-link:hover,
                        .navbar-nav .nav-link.active {
                            color: #3498db !important;
                            background-color: rgba(255, 255, 255, 0.1);
                            border-radius: 4px;
                        }
                    </style>
                `;

          $("#navigation").html(navHTML);
          console.log("‚úÖ Navigation rendered successfully");
        } catch (error) {
          console.error("‚ùå Navigation render error:", error);
          renderFallbackNavigation();
        }
      }

      function renderFallbackNavigation() {
        console.log("üîÑ Rendering fallback navigation...");

        const fallbackHTML = `
                <nav class="navbar navbar-expand-lg navbar-dark" style="background: linear-gradient(135deg, #2c3e50, #34495e);">
                    <div class="container-fluid">
                        <a class="navbar-brand" href="index.html" style="color: white;">
                            <i class="fas fa-leaf"></i> ‡∏´‡πâ‡∏ß‡∏¢‡∏ï‡∏∂‡∏á‡πÄ‡∏í‡πà‡∏≤
                        </a>
                        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                            <span class="navbar-toggler-icon"></span>
                        </button>
                        <div class="collapse navbar-collapse" id="navbarNav">
                            <ul class="navbar-nav ms-auto">
                                <li class="nav-item"><a class="nav-link" href="index.html" style="color: rgba(255,255,255,0.9);">‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å</a></li>
                                <li class="nav-item"><a class="nav-link" href="page-history.html" style="color: rgba(255,255,255,0.9);">‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥</a></li>
                                <li class="nav-item"><a class="nav-link active" href="page-services.html" style="color: #3498db;">‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£</a></li>
                                <li class="nav-item"><a class="nav-link" href="page-news.html" style="color: rgba(255,255,255,0.9);">‡∏Ç‡πà‡∏≤‡∏ß‡∏™‡∏≤‡∏£</a></li>
                                <li class="nav-item"><a class="nav-link" href="page-contact.html" style="color: rgba(255,255,255,0.9);">‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡πÄ‡∏£‡∏≤</a></li>
                            </ul>
                        </div>
                    </div>
                </nav>
            `;

        $("#navigation").html(fallbackHTML);
      }

      // Load footer
      function loadFooter() {
        console.log("ü¶∂ Loading footer...");

        $.getJSON("data/footer.json")
          .done(function (data) {
            console.log("‚úÖ Footer data loaded");
            renderFooter(data);
          })
          .fail(function (xhr, status, error) {
            console.warn("‚ö†Ô∏è Footer load failed:", status, error);
            renderFallbackFooter();
          });
      }

      function renderFooter(data) {
        try {
          const copyright = safeGet(data, "copyright", "‡∏´‡πâ‡∏ß‡∏¢‡∏ï‡∏∂‡∏á‡πÄ‡∏í‡πà‡∏≤");
          const visitorCount = safeGet(data, "visitorCount", "0");

          const footerHTML = `
                    <div style="background: #2c3e50; color: white; padding: 2rem 0; margin-top: 3rem;">
                        <div class="container">
                            <div class="row">
                                <div class="col-md-6">
                                    <p>&copy; ${new Date().getFullYear()} ${copyright}</p>
                                </div>
                                <div class="col-md-6 text-end">
                                    <p>‡∏ú‡∏π‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡∏ä‡∏°: ${visitorCount} ‡∏Ñ‡∏ô</p>
                                </div>
                            </div>
                        </div>
                    </div>
                `;

          $("#footer").html(footerHTML);
          console.log("‚úÖ Footer rendered successfully");
        } catch (error) {
          console.error("‚ùå Footer render error:", error);
          renderFallbackFooter();
        }
      }

      function renderFallbackFooter() {
        console.log("üîÑ Rendering fallback footer...");

        const fallbackHTML = `
                <div style="background: #2c3e50; color: white; padding: 2rem 0; margin-top: 3rem;">
                    <div class="container">
                        <div class="row">
                            <div class="col-md-6">
                                <p>&copy; ${new Date().getFullYear()} ‡∏´‡πâ‡∏ß‡∏¢‡∏ï‡∏∂‡∏á‡πÄ‡∏í‡πà‡∏≤</p>
                            </div>
                            <div class="col-md-6 text-end">
                                <p>‡∏ú‡∏π‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡∏ä‡∏°: 0 ‡∏Ñ‡∏ô</p>
                            </div>
                        </div>
                    </div>
                </div>
            `;

        $("#footer").html(fallbackHTML);
      }

      // Load services content
      function loadServicesContent() {
        console.log("üõ†Ô∏è Loading services content...");

        $.getJSON("data/services-content.json")
          .done(function (data) {
            console.log("‚úÖ Services data loaded");
            renderServicesContent(data);
          })
          .fail(function (xhr, status, error) {
            console.warn("‚ö†Ô∏è Services load failed:", status, error);
            renderFallbackServicesContent();
          });
      }

      function renderServicesContent(data) {
        try {
          const title = safeGet(data, "title", "‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤");
          const description = safeGet(
            data,
            "description",
            "‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡πÅ‡∏•‡∏∞‡∏™‡∏¥‡πà‡∏á‡∏≠‡∏≥‡∏ô‡∏ß‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏î‡∏ß‡∏Å‡∏ó‡∏µ‡πà‡∏´‡πâ‡∏ß‡∏¢‡∏ï‡∏∂‡∏á‡πÄ‡∏í‡πà‡∏≤"
          );
          const services = safeGet(data, "services", []);

          let servicesHTML = "";
          if (Array.isArray(services)) {
            servicesHTML = services
              .map(
                (service) => `
                        <div class="col-lg-4 col-md-6 mb-4">
                            <div class="card h-100">
                                <div class="card-body text-center">
                                    <i class="${
                                      service.icon || "fas fa-cog"
                                    } fa-3x text-primary mb-3"></i>
                                    <h5>${service.title || "‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£"}</h5>
                                    <p>${
                                      service.description || "‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£"
                                    }</p>
                                </div>
                            </div>
                        </div>
                    `
              )
              .join("");
          }

          const fullHTML = `
                    <div class="container py-5">
                        <div class="row text-center mb-5">
                            <div class="col-12">
                                <h1>${title}</h1>
                                <p class="lead">${description}</p>
                            </div>
                        </div>
                        <div class="row">
                            ${servicesHTML}
                        </div>
                    </div>
                `;

          $("#services-content").html(fullHTML);
          console.log("‚úÖ Services content rendered successfully");
        } catch (error) {
          console.error("‚ùå Services render error:", error);
          renderFallbackServicesContent();
        }
      }

      function renderFallbackServicesContent() {
        const fallbackHTML = `
                <div class="container py-5">
                    <div class="row text-center mb-5">
                        <div class="col-12">
                            <h1>‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤</h1>
                            <p class="lead">‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡πÅ‡∏•‡∏∞‡∏™‡∏¥‡πà‡∏á‡∏≠‡∏≥‡∏ô‡∏ß‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏î‡∏ß‡∏Å‡∏ó‡∏µ‡πà‡∏´‡πâ‡∏ß‡∏¢‡∏ï‡∏∂‡∏á‡πÄ‡∏í‡πà‡∏≤</p>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-lg-4 col-md-6 mb-4">
                            <div class="card h-100">
                                <div class="card-body text-center">
                                    <i class="fas fa-swimming-pool fa-3x text-primary mb-3"></i>
                                    <h5>‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏ô‡πâ‡∏≥</h5>
                                    <p>‡πÄ‡∏•‡πà‡∏ô‡∏ô‡πâ‡∏≥‡πÅ‡∏•‡∏∞‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏£‡∏¥‡∏°‡∏≠‡πà‡∏≤‡∏á‡πÄ‡∏Å‡πá‡∏ö‡∏ô‡πâ‡∏≥</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-4 col-md-6 mb-4">
                            <div class="card h-100">
                                <div class="card-body text-center">
                                    <i class="fas fa-campground fa-3x text-success mb-3"></i>
                                    <h5>‡πÅ‡∏Ñ‡∏°‡∏õ‡πå‡∏õ‡∏¥‡πâ‡∏á</h5>
                                    <p>‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏Å‡∏≤‡∏á‡πÄ‡∏ï‡πá‡∏ô‡∏ó‡πå‡πÅ‡∏•‡∏∞‡∏û‡∏±‡∏Å‡∏Ñ‡πâ‡∏≤‡∏á‡∏Ñ‡∏∑‡∏ô</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-4 col-md-6 mb-4">
                            <div class="card h-100">
                                <div class="card-body text-center">
                                    <i class="fas fa-utensils fa-3x text-info mb-3"></i>
                                    <h5>‡∏£‡πâ‡∏≤‡∏ô‡∏≠‡∏≤‡∏´‡∏≤‡∏£</h5>
                                    <p>‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏ó‡πâ‡∏≠‡∏á‡∏ñ‡∏¥‡πà‡∏ô‡πÅ‡∏•‡∏∞‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏î‡∏∑‡πà‡∏°</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-4 col-md-6 mb-4">
                            <div class="card h-100">
                                <div class="card-body text-center">
                                    <i class="fas fa-camera fa-3x text-warning mb-3"></i>
                                    <h5>‡∏à‡∏∏‡∏î‡∏ñ‡πà‡∏≤‡∏¢‡∏†‡∏≤‡∏û</h5>
                                    <p>‡∏°‡∏∏‡∏°‡∏ñ‡πà‡∏≤‡∏¢‡∏†‡∏≤‡∏û‡∏™‡∏ß‡∏¢‡∏á‡∏≤‡∏°</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-4 col-md-6 mb-4">
                            <div class="card h-100">
                                <div class="card-body text-center">
                                    <i class="fas fa-leaf fa-3x text-success mb-3"></i>
                                    <h5>‡∏ò‡∏£‡∏£‡∏°‡∏ä‡∏≤‡∏ï‡∏¥</h5>
                                    <p>‡∏™‡∏±‡∏°‡∏ú‡∏±‡∏™‡∏ò‡∏£‡∏£‡∏°‡∏ä‡∏≤‡∏ï‡∏¥‡πÅ‡∏•‡∏∞‡∏≠‡∏≤‡∏Å‡∏≤‡∏®‡∏ö‡∏£‡∏¥‡∏™‡∏∏‡∏ó‡∏ò‡∏¥‡πå</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-4 col-md-6 mb-4">
                            <div class="card h-100">
                                <div class="card-body text-center">
                                    <i class="fas fa-bicycle fa-3x text-primary mb-3"></i>
                                    <h5>‡∏õ‡∏±‡πà‡∏ô‡∏à‡∏±‡∏Å‡∏£‡∏¢‡∏≤‡∏ô</h5>
                                    <p>‡πÄ‡∏™‡πâ‡∏ô‡∏ó‡∏≤‡∏á‡∏õ‡∏±‡πà‡∏ô‡∏à‡∏±‡∏Å‡∏£‡∏¢‡∏≤‡∏ô‡∏ä‡∏°‡∏ò‡∏£‡∏£‡∏°‡∏ä‡∏≤‡∏ï‡∏¥</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        $("#services-content").html(fallbackHTML);
      }

      // Initialize page
      $(document).ready(function () {
        console.log("‚úÖ Services page ready - initializing...");

        try {
          loadNavigation();
          loadFooter();
          loadServicesContent();
          console.log("‚úÖ Services page initialized successfully");
        } catch (error) {
          console.error("‚ùå Services page initialization failed:", error);
        }
      });

      console.log("‚úÖ Services page JavaScript loaded successfully");
    </script>
  </body>
</html>
